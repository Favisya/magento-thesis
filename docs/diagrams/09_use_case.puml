@startuml
!define usecase(x) (x) as x
skinparam actorStyle awesome
skinparam usecaseStyle roundbox

title Варианты использования системы мониторинга Magento

' Акторы
actor Администратор
actor TelegramAPI as "Telegram API"
actor CronСистема as "Cron Система"
actor RabbitMQ as "RabbitMQ"
actor LogFiles as "Файлы логов"

' Основной вариант использования
usecase "Мониторинг фоновых процессов" as UC1

' Подварианты использования
usecase "Мониторинг Cron-задач" as UC1_1
usecase "Мониторинг RabbitMQ" as UC1_2
usecase "Мониторинг индексов" as UC1_3
usecase "Мониторинг демонов" as UC1_4
usecase "Анализ логов" as UC1_5

' Дополнительные варианты использования
usecase "Просмотр состояния задач" as UC2
usecase "Просмотр статистики" as UC3
usecase "Настройка уведомлений" as UC4
usecase "Получение уведомлений" as UC5
usecase "Анализ проблем" as UC6
usecase "Управление подписками" as UC7
usecase "Поиск ошибок в логах" as UC8

' Связи акторов с вариантами использования
Администратор --> UC1
Администратор --> UC2
Администратор --> UC3
Администратор --> UC4
Администратор --> UC6
Администратор --> UC7
Администратор --> UC8

TelegramAPI --> UC5
CronСистема --> UC1_1
RabbitMQ --> UC1_2
LogFiles --> UC1_5

' Связи между вариантами использования
UC1 ..> UC1_1 : включает
UC1 ..> UC1_2 : включает
UC1 ..> UC1_3 : включает
UC1 ..> UC1_4 : включает
UC1 ..> UC1_5 : включает

UC1_1 ..> UC5 : расширяет
UC1_2 ..> UC5 : расширяет
UC1_3 ..> UC5 : расширяет
UC1_4 ..> UC5 : расширяет

UC2 ..> UC3 : включает
UC2 ..> UC6 : включает

UC4 ..> UC7 : включает

UC8 ..> UC1_5 : расширяет
UC1_5 ..> UC6 : включает

' Примечания
note right of UC1
  Основной вариант использования,
  включающий мониторинг всех
  фоновых процессов системы
end note

note right of UC5
  Автоматическая отправка
  уведомлений при обнаружении
  проблем
end note

note right of UC1_5
  Анализ файлов логов
  для выявления и сохранения
  информации о критических ошибках
end note

' Легенда
legend right
  |= Обозначение |= Значение |
  | --> | Ассоциация |
  | ..> | Включение/Расширение |
endlegend

@enduml 