# ProcessMonitor Module

Модуль для мониторинга системных процессов в Magento 2.

## Функциональность

- Проверка наличия процессов по имени
- Получение детальной информации о процессах (PID, пользователь, CPU, память, время запуска)
- Обработка ошибок выполнения команд
- Поддержка различных форматов вывода системных команд

## Тесты

Модуль включает в себя полный набор unit-тестов, которые проверяют:

1. Проверка существования процесса
   - Процесс существует
   - Процесс не существует
   - Ошибка выполнения команды

2. Получение информации о процессе
   - Корректный вывод команды ps
   - Пустой вывод
   - Ошибка выполнения команды
   - Некорректный формат вывода

## Установка

```bash
composer require lachestry/process-monitor
bin/magento module:enable Lachestry_ProcessMonitor
bin/magento setup:upgrade
```

## Использование

```php
$processMonitor = $objectManager->get(\Lachestry\ProcessMonitor\Model\ProcessMonitor::class);

// Проверка существования процесса
$exists = $processMonitor->checkProcess('php-fpm');

// Получение информации о процессе
$info = $processMonitor->getProcessInfo('php-fpm');
```

## Конфигурация

Модуль не требует дополнительной конфигурации и использует стандартные системные команды:
- `pgrep` для проверки существования процесса
- `ps` для получения детальной информации 